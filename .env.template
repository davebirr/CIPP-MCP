# CIPP-MCP Environment Configuration Template
# Copy this file to .env and update with your actual values
# DO NOT COMMIT .env TO SOURCE CONTROL

# ===========================================
# AZURE INFRASTRUCTURE CONFIGURATION
# ===========================================

# Azure Resource Group (where CIPP infrastructure resides)
AZURE_RESOURCE_GROUP=rg-CIPP-YourName
AZURE_SUBSCRIPTION_ID=your-subscription-id-here

# Azure Service Principal for Key Vault Access (Auto-configured in ARM template)
AZURE_CLIENT_ID=managed-identity-client-id
AZURE_CLIENT_SECRET=not-needed-for-managed-identity
AZURE_TENANT_ID=your-azure-tenant-id

# ===========================================
# KEY VAULT CONFIGURATION
# ===========================================

# Key Vault Configuration (Auto-configured in ARM template)
KEY_VAULT_NAME=your-keyvault-name
KEY_VAULT_URL=https://your-keyvault-name.vault.azure.net/

# ===========================================
# CIPP INTEGRATION CONFIGURATION
# ===========================================

# CIPP API Configuration
# IMPORTANT: Use your Static Web App URL, not the Function App URL
CIPP_API_BASE_URL=https://your-cipp.azurestaticapps.net
CIPP_SWA_URL=https://your-cipp.azurestaticapps.net

# CIPP User Configuration
CIPP_USER_EMAIL=your-admin@yourdomain.com
CIPP_USER_ID=your-admin@yourdomain.com

# ===========================================
# AUTHENTICATION CONFIGURATION
# ===========================================

# Authentication Mode Options:
# - "development": Mock authentication for local testing
# - "browser": Use browser cookie for local development
# - "keyvault": Production mode using Key Vault secrets
AUTH_MODE=keyvault

# Production Mode (recommended for Azure deployment)
USE_REAL_AUTH=true

# ===========================================
# LOCAL DEVELOPMENT ONLY
# ===========================================
# These settings are only used for local development
# In production, credentials are retrieved from Key Vault

# CIPP Authentication (stored in Key Vault in production)
CIPP_APPLICATION_ID=stored-in-keyvault
CIPP_APPLICATION_SECRET=stored-in-keyvault
CIPP_REFRESH_TOKEN=stored-in-keyvault

# Browser Cookie (for local development only)
# Get this from your browser's developer tools when logged into CIPP
BROWSER_AUTH_COOKIE=your-static-web-apps-auth-cookie

# ===========================================
# DEPLOYMENT CONFIGURATION
# ===========================================

# GitHub Repository (for ARM template deployment)
REPOSITORY_URL=https://github.com/YourUsername/CIPP-MCP
REPOSITORY_BRANCH=main

# ===========================================
# SECURITY NOTES
# ===========================================
# 
# 1. NEVER commit .env files to source control
# 2. Use Azure Key Vault for production secrets
# 3. Rotate credentials regularly
# 4. Use managed identities when possible
# 5. Monitor access logs in Application Insights
#
# For production deployment:
# - Set AUTH_MODE=keyvault
# - Store CIPP credentials in Key Vault as secrets:
#   - CIPP-APPLICATION-ID
#   - CIPP-APPLICATION-SECRET  
#   - CIPP-REFRESH-TOKEN
#
# ===========================================
